---
title: "Lab 11 _ Matrices complejas 2"
author: "Cony"
date: "2025-10-03"
output: html_document
---

Hecho con gusto por Carla Carolina Pérez Hernández (UAEH)
Alumna: Maria Concepcion García Pérez


LABORATORIO 4: Visión clara del espacio-producto: CASO REAL_exportaciones hidalguenses

Objetivo: Estimar el Maximum Spanning Tree -Árbol de expansión máxima- (asegurar una visión clara del espacio-producto)

Red troncal: Estructura general de la red: vamos a poder ver redes complejas

Regla 1: mantener n-1 conexiones como máximo
Regla 2: Quitar las conexiones con el peso más bajo, nos vamos quedar con las del peso máximo (menos conexiones)
Regla 3: No crear nodos aislados


1.Cómo crear una Visión clara del espacio-producto: árbol de expansión máxima (MST) 
Paquete: Balland, P.A. (2017) Economic Geography in R: Introduction to the EconGeo Package, Papers in Evolutionary Economic Geography, 17 (09): 1-75 
Para instalar: https://www.paballand.com/install-r

cargar paquete
file.choose()
```{r}

```

ubicar archivo
Importar matriz "relatednessbinario.csv"
```{r}
M = as.matrix(
  read.csv("C:\\Users\\Cony\\Documents\\1.- UAEH\\3.- Doctorado UAEH\\4.- Cuarto Semestre Complejidad\\Modulo II - Practica complejidad\\2.- Laboratorios\\Lab 11\\relatednessbinario.csv" , 
           sep = ",", 
           header = T, 
           row.names = 1))

head (M[,1:10])
dim (M)
```

grafica la matriz de proximidades natural
```{r}
library (igraph)
red_hidalgo1 <- graph.adjacency(M, mode="undirected", weighted=TRUE)
plot(red_hidalgo1)
```

Transforma la matriz en en NEGATIVA y para identificar los máximos
```{r}
M <- -M
head(M[,1:6])
```


grafica la nueva matriz negativa con MST
```{r}
red_hidalgo2 <- graph.adjacency(M, mode="undirected", weighted=TRUE)
MST <- minimum.spanning.tree(red_hidalgo2)
plot(MST,vertex.shape="none",vertex.label.cex=.7)
```

nodos n-1
matriz de proximos adyaentes (nuevo relacionamiento)
exportar LISTA DE EDGE

```{r}
library(igraph)

write_graph(MST, file = "redhidalgo2.gml", format = "gml")
```
exportar matriz de proximos adyacentes
```{r}
A<- get.adjacency(MST, sparse = F) 
write.csv(A,file = "adeyacentesconMST.csv")
```



